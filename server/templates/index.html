<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pang Kang Liao</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/htmx.org@1.6.1"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mapbox-polyline/1.1.1/polyline.min.js"></script>
</head>
<body>
    <div class="container">
        <div id="map-container">
            <div id="map"></div>
        </div>
        <div id="form-container">
            <h1>Pang Kang Liao</h1>
            <form id="location-form" hx-post="/calculate" hx-target="#result" hx-swap="innerHTML">
                <div id="origin-destination-pairs">
                    <div class="pair">
                        <label for="origin-0">Origin:</label>
                        <input type="text" id="origin-0" name="origins" list="origin-suggestions-0" autocomplete="off" required>
                        <datalist id="origin-suggestions-0"></datalist>
                        <label for="destination-0">Destination:</label>
                        <input type="text" id="destination-0" name="destinations" list="destination-suggestions-0" autocomplete="off" required>
                        <datalist id="destination-suggestions-0"></datalist>
                        <button type="button" class="delete-pair">X</button>
                    </div>
                </div>
                <button type="button" id="add-pair">Add Origin-Destination Pair</button>
                <div>
                    <label for="time-threshold">Time Threshold (in minutes):</label>
                    <input type="number" id="time-threshold" name="time_threshold" required>
                </div>
                <button type="submit">Calculate Meeting Point</button>
            </form>
            <div id="result"></div>
        </div>
    </div>
    <script src="scripts.js"></script>
</body>
</html>